<div class="pagination">
    <ul>
        {#each items as item}
        <li>
            <a href="{item.href}">{item.text}</a>
        </li>
        {/each}
    </ul>
</div>

<script>
    const query = ({ limit, offset }) => `?limit=${limit}&offset=${offset}`;

    export default {
        computed: {
            items: ({ total, limit }) => {
                const pageCount = Math.ceil(total / limit);
                const pages = Array.from({ length: pageCount }, (v, i) => ({
                    text: i + 1,
                    href: query({ limit, offset: i * limit })
                }));
                return [
                    { text: '«', href: query({ limit, offset: 0 }) },
                    ...pages,
                    { text: '»', href: query({ limit, offset: (pageCount - 1) * limit }) }
                ];
            }
        },

        methods: {}
    };
</script>
